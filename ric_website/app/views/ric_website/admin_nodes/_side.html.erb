<%
	actions = {}
	actions[:new] = {
		icon: "file-o",
		label: t("headers.ric_website.admin_nodes.new"),
		path: lambda { |node| ric_website_admin.new_node_path(parent_id: node) }
	}
	RicWebsite.structure_model.order(ref: :asc).each do |structure|
		actions["new_#{structure.ref}".to_sym] = {
			icon: (!structure.icon.blank? ? structure.icon : "file-o"),
			label: t("headers.ric_website.admin_nodes.new") + ": " + structure.name,
			path: lambda { |node| ric_website_admin.new_node_path(parent_id: node, structure_id: structure.id) }
		}
	end
%>

<%= rug_tree_for(ric_website_admin.lazy_tree_nodes_path,
	paths: {
		show: "ric_website_admin.edit_node_path",
		move: "ric_website_admin.move_node_path"
	},
	actions: actions,
	moving: true,
	type_icon: "structure_icon",
	closed_icon: "plus-square-o",
	opened_icon: "minus-square-o",
	clipboard: "url_original",
	clipboard_label: "name",
	clipboard_icon: "clipboard"
) %>
