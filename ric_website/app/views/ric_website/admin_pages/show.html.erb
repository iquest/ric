<% tabs = rug_tabs %>
<% @page.class.parts.each do |part| %>
	<% tabs.tab part, t("headers.ric_website.admin_pages.#{part.to_s}") do %>
		<% if part == :basic %>
			<h3><%= t("headers.ric_website.admin_pages.#{part.to_s}") %></h3>
			<%= render partial: "show_#{part.to_s}" %>
			<% if @page.page_blocks.count > 0 %>
				<h3><%= t("headers.ric_website.admin_pages.page_blocks") %></h3>
				<%
					columns = {}
					columns[:title] = :string
					columns[:key] = :enum if RicWebsite.page_block_model.config(:enable_key)
					columns[:content] = { type: :text, strip_tags: true }
				%>
				<%= rug_index_table_for(@page.page_blocks.order(position: :asc), columns, paths: {
					show: :page_block_path,
					edit: :edit_page_block_path,
					move: :move_page_block_path,
					destroy: :page_block_path
				}, moving: true ) %>
			<% end %>
		<% else %>
			<%= render partial: "show_#{part.to_s}" %>
		<% end %>
	<% end %>
<% end %>
<%= tabs.render(header_style: "pills", header_class: "hr-divider-content hr-divider-nav", header_container_class: "hr-divider") %>
