<%= render layout: "ric_admin/layouts/with_right_side" do %>

	<%= rug_form_for(@product_panel, url: product_panel_sub_product_relation_path(@product_panel)) do |f| %>

		<%
			columns = RugBuilder::TableBuilder::Columns.new(
				name: :string, 
				catalogue_number: :string,
				ean: :string, 
				price: :integer
			)
			columns.add_column_by_block(:checkbox) do |sub_product|
				check_box_tag "product_panel[sub_products][#{sub_product.id.to_s}]", "1", (@product_panel.sub_product_ids.include?(sub_product.id))
			end
		%>
		<%= rug_index_table_for(@sub_products, columns) %>

		<%= f.primary_button_row :submit %>
	<% end %>

<% end %>